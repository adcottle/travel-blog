{"ast":null,"code":"import { FlatTreeControl } from '@angular/cdk/tree';\nimport { MatTreeFlatDataSource, MatTreeFlattener } from '@angular/material/tree';\nimport { GlobalConstants } from 'src/app/service/global.variables';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/images/images.service\";\nimport * as i2 from \"../../service/crud/crud.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ng-image-slider\";\nimport * as i5 from \"../../nav/navbar.component\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../nav/footer/footer.component\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/button\";\nimport * as i10 from \"@angular/material/tooltip\";\nimport * as i11 from \"@angular/material/icon\";\nimport * as i12 from \"safe-pipe\";\n\nfunction HomeComponent_ng_container_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵelementStart(2, \"mat-card\", 18);\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵelementStart(4, \"div\", 19);\n    i0.ɵɵelementStart(5, \"mat-card-title\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 21);\n    i0.ɵɵelementStart(8, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_41_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const m_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.openAlbum(m_r2.metadata.album_id);\n    });\n    i0.ɵɵelementStart(9, \"mat-icon\", 23);\n    i0.ɵɵtext(10, \"collections\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"img\", 24);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_41_Template_img_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const m_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.openAlbum(m_r2.metadata.album_id);\n    });\n    i0.ɵɵpipe(12, \"safe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"mat-card-content\");\n    i0.ɵɵelementStart(14, \"figcaption\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 25);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"mat-card-actions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const m_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(m_r2.album_title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind2(12, 4, ctx_r1.serverURI + \"/images/file/\" + m_r2.filename, \"url\"), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(m_r2.metadata.caption);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(18, 7, m_r2.trip_date, \"MMMM/dd/yyyy\"));\n  }\n}\n\nconst _c0 = function () {\n  return {\n    width: \"100%\",\n    height: 375\n  };\n};\n\nconst TREE_DATA = [{\n  name: 'Countries',\n  children: [{\n    name: 'US Virgin Islands'\n  }, {\n    name: 'Bahamas'\n  }, {\n    name: 'British Virgin Islands'\n  }]\n}, {\n  name: 'States',\n  children: [{\n    name: 'Tennessee',\n    children: [{\n      name: 'Chattanooga'\n    }, {\n      name: 'Gatlinburg'\n    }, {\n      name: 'Nashbille'\n    }]\n  }, {\n    name: 'Texas',\n    children: [{\n      name: 'Austin'\n    }, {\n      name: 'San Antonio'\n    }]\n  }, {\n    name: 'West Viginia',\n    children: [{\n      name: 'Elkins'\n    }, {\n      name: 'WV Games'\n    }]\n  }, {\n    name: 'Utah',\n    children: [{\n      name: 'Hot Pots'\n    }, {\n      name: 'Salt Lake'\n    }, {\n      name: 'Provo'\n    }, {\n      name: 'Belly of the Dragon'\n    }]\n  }]\n}, {\n  name: 'Marching Band',\n  children: [{\n    name: 'Battle of the Bands'\n  }, {\n    name: 'Disney'\n  }, {\n    name: 'Parades'\n  }]\n}, {\n  name: 'National Parks',\n  children: [{\n    name: 'Grand Canyon'\n  }, {\n    name: 'Zion'\n  }, {\n    name: 'Cloud Canyon'\n  }]\n}];\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(imageService, crudService, router) {\n      this.imageService = imageService;\n      this.crudService = crudService;\n      this.router = router;\n      this.Metadata = [];\n      this.Images = [];\n      this.tripDate = [];\n      this.Trips = [];\n      this.destroy$ = new Subject();\n\n      this._transformer = (node, level) => {\n        return {\n          expandable: !!node.children && node.children.length > 0,\n          name: node.name,\n          level: level\n        };\n      };\n\n      this.treeControl = new FlatTreeControl(node => node.level, node => node.expandable);\n      this.treeFlattener = new MatTreeFlattener(this._transformer, node => node.level, node => node.expandable, node => node.children);\n      this.dataSource = new MatTreeFlatDataSource(this.treeControl, this.treeFlattener);\n      this.imageObject = [{\n        image: '../../../assets/pics/navajo_bridge.JPG',\n        thumbImage: '../../../assets/pics/navajo_bridge.JPG',\n        title: 'Navajo Bridge, Marble Canyon'\n      }, {\n        image: '../../../assets/pics/forest_gump.jpg',\n        thumbImage: '../../../assets/pics/forest_gump.jpg',\n        title: 'Mesa Arch Moab, UT'\n      }, {\n        image: '../../../assets/pics/cliff.jpg',\n        thumbImage: '../../../assets/pics/cliff.jpg',\n        title: \"Looking over a scary cliff.\"\n      }, {\n        image: '../../../assets/pics/camelback.jpg',\n        thumbImage: '../../../assets/pics/camelback.jpg',\n        title: 'Camelback Mountain Phoenix'\n      }, {\n        image: '../../../assets/pics/red_rocks.jpg',\n        thumbImage: '../../../assets/pics/red_rocks.jpg',\n        title: 'Red Rocks of Sedona'\n      }, {\n        image: '../../../assets/pics/goblin_valley.JPG',\n        thumbImage: '../../../assets/pics/goblin_valley.JPG',\n        title: 'Goblin Valley'\n      }];\n\n      this.hasChild = (_, node) => node.expandable;\n\n      this.serverURI = GlobalConstants.serverURI;\n      this.dataSource.data = TREE_DATA;\n    }\n\n    ngOnInit() {\n      // this.circleText();\n      this.getMerged();\n    }\n\n    getMerged() {\n      let trip;\n      var image = [];\n      this.crudService.GetLatest().pipe(takeUntil(this.destroy$)).subscribe((tripData = []) => {\n        trip = tripData; // console.log(trip);\n\n        this.imageService.GetLatest().pipe(takeUntil(this.destroy$)).subscribe((imageData = []) => {\n          // console.log(imageData)\n          image = imageData; // console.log(image);\n\n          this.Metadata = this.mergeArrayObjects(trip, image);\n        });\n      });\n    }\n\n    mergeArrayObjects(arr1, arr2) {\n      return arr1.map((item, i) => {\n        if (item._id === arr2[i].metadata.album_id) {\n          //merging two objects\n          return Object.assign({}, item, arr2[i]);\n        }\n\n        ;\n      });\n    }\n\n    openAlbum(id) {\n      // console.log(id);\n      this.router.navigate(['album-view/' + id]);\n    }\n\n    ngOnDestroy() {\n      this.destroy$.next(true); // Unsubscribe from the subject\n\n      this.destroy$.unsubscribe();\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ImagesService), i0.ɵɵdirectiveInject(i2.CrudService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 45,\n    vars: 8,\n    consts: [[1, \"row\", \"intro\", \"m-auto\", \"mat-elevation-z8\"], [1, \"col-md-8\"], [\"src\", \"../../../assets/pics/vc.png\", 1, \"compass\"], [1, \"introHead\", \"mt-3\"], [1, \"introText\", \"mt-3\"], [1, \"col-md-4\", \"p-2\", \"introText\"], [2, \"width\", \"80%\", \"height\", \"100%\", \"text-align\", \"center\", \"margin\", \"0\", \"padding\", \"0\"], [\"slideImage\", \"1\", 3, \"images\", \"infinite\", \"autoSlide\", \"showArrow\", \"imageSize\", \"animationSpeed\"], [\"nav\", \"\"], [1, \"row\"], [1, \"col-sm-5\"], [\"src\", \"../../../assets/pics/plane2.gif\", 1, \"plane\"], [1, \"col-sm-7\", \"mapTitle\", \"my-2\"], [1, \"coming-soon\"], [1, \"animatedclass\"], [1, \"postTitle\", \"my-5\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"col-md-4\", \"postBox\"], [1, \"mb-3\"], [1, \"col-10\"], [2, \"float\", \"left\"], [1, \"col-2\"], [\"mat-button\", \"\", \"matTooltip\", \"Open Album\", 1, \"albumBtn\", 2, \"float\", \"right\", 3, \"click\"], [1, \"albumBtn\", 2, \"float\", \"right\"], [\"mat-card-image\", \"\", \"alt\", \"m.metadata.caption\", 3, \"src\", \"click\"], [1, \"trip-date\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementStart(3, \"h2\", 3);\n        i0.ɵɵelementStart(4, \"strong\");\n        i0.ɵɵelementStart(5, \"u\");\n        i0.ɵɵtext(6, \"Welcome to Our Adventures\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\", 4);\n        i0.ɵɵtext(8, \" After transitioning from social media, we still wanted to share our adventures and events with family and friends. We created this blog as a means to keep in touch and especially to let the Grandmas see what the grandkids have been doing! As for us, we love spending time exploring new places and having adventures. The next big things coming up for us is Ben getting his driver's license and Audrey graduating highschool. She has been accepted to Liberty and is quite excited, we're so proud of her! \");\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵtext(11, \"We're so glad you have joined us at baamfamilygallery! (\");\n        i0.ɵɵelementStart(12, \"b\");\n        i0.ɵɵtext(13, \"B\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(14, \"en, \");\n        i0.ɵɵelementStart(15, \"b\");\n        i0.ɵɵtext(16, \"A\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(17, \"udrey, \");\n        i0.ɵɵelementStart(18, \"b\");\n        i0.ɵɵtext(19, \"A\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20, \"manda, \");\n        i0.ɵɵelementStart(21, \"b\");\n        i0.ɵɵtext(22, \"M\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(23, \"ike) \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 5);\n        i0.ɵɵelementStart(25, \"div\", 6);\n        i0.ɵɵelement(26, \"ng-image-slider\", 7, 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"app-navbar\");\n        i0.ɵɵelementStart(29, \"div\", 9);\n        i0.ɵɵelementStart(30, \"div\", 10);\n        i0.ɵɵelement(31, \"img\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 12);\n        i0.ɵɵtext(33, \"Where we've Been\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 13);\n        i0.ɵɵelementStart(35, \"h1\", 14);\n        i0.ɵɵtext(36, \" Coming Soon!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"hr\");\n        i0.ɵɵelementStart(38, \"div\", 15);\n        i0.ɵɵtext(39, \"Latest Posts\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 9);\n        i0.ɵɵtemplate(41, HomeComponent_ng_container_41_Template, 21, 10, \"ng-container\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(42, \"br\");\n        i0.ɵɵelement(43, \"br\");\n        i0.ɵɵelement(44, \"app-footer\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(26);\n        i0.ɵɵproperty(\"images\", ctx.imageObject)(\"infinite\", true)(\"autoSlide\", 1)(\"showArrow\", true)(\"imageSize\", i0.ɵɵpureFunction0(7, _c0))(\"animationSpeed\", 5);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngForOf\", ctx.Metadata);\n      }\n    },\n    directives: [i4.NgImageSliderComponent, i5.NavbarComponent, i6.NgForOf, i7.FooterComponent, i8.MatCard, i8.MatCardTitle, i9.MatButton, i10.MatTooltip, i11.MatIcon, i8.MatCardImage, i8.MatCardContent, i8.MatCardActions],\n    pipes: [i12.ɵa, i6.DatePipe],\n    styles: [\".intro[_ngcontent-%COMP%]{font-family:\\\"Handlee\\\",cursive;position:relative;width:100%}.intro[_ngcontent-%COMP%]:before{background-image:url(postcard.jpg);opacity:.2;background-size:cover;background-repeat:no-repeat;content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%}.introHead[_ngcontent-%COMP%]{font-size:46px;color:#036;text-align:center;font-family:\\\"Dancing Script\\\",cursive;margin-top:15px}.introText[_ngcontent-%COMP%]{padding-top:1%;font-size:22px;color:#036;line-height:1.5;font-family:\\\"Arsenal\\\",sans-serif}.compass[_ngcontent-%COMP%]{float:left;margin-top:20px;transform:rotate(10deg);height:150px;width:145px}ng-image-slider[_ngcontent-%COMP%]{margin-left:15%}.plane[_ngcontent-%COMP%]{height:75px;width:100px;float:right;margin-top:-15px;clear:left}.mapTitle[_ngcontent-%COMP%], .postTitle[_ngcontent-%COMP%]{font-family:\\\"Dancing Script\\\",cursive;font-size:52px;color:#036;font-weight:700;-webkit-text-decoration:#003366;text-decoration:#003366}.mapTitle[_ngcontent-%COMP%]{text-align:left}.mapNum[_ngcontent-%COMP%]{font-size:28px;font-weight:bold;color:#036;text-transform:uppercase;text-align:center;font-family:\\\"Thasadith\\\",sans-serif}.mapImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}mat-icon[_ngcontent-%COMP%], mat-tree-node[_ngcontent-%COMP%]{font-size:x-large;color:#036;font-weight:700}.postTitle[_ngcontent-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{min-height:400px;max-height:400px;min-width:100%;cursor:pointer}.postBox[_ngcontent-%COMP%]{border-right:5px inset #4c7093}.mat-card-title[_ngcontent-%COMP%]{color:#4c7093;font-size:x-large}.albumBtn[_ngcontent-%COMP%]{margin-bottom:10px}.trip-date[_ngcontent-%COMP%]{color:#036;float:right;font-size:large}figcaption[_ngcontent-%COMP%]{color:#3cb371;font-style:italic;font-weight:bold;font-size:22px;padding-top:1%;font-family:\\\"Thasadith\\\"}.coming-soon[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:maroon;text-align:center;font-size:3em;display:block;font-family:\\\"Delius\\\";padding-top:75px}.coming-soon[_ngcontent-%COMP%]{position:relative;width:100%;height:250px}.coming-soon[_ngcontent-%COMP%]:after{background-image:url(map.png);background-size:contain;background-repeat:repeat;content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%}.animatedclass[_ngcontent-%COMP%]{z-index:2;opacity:0;transform-origin:center;animation:letter 5s infinite cubic-bezier(0,0,.1,1)}@keyframes letter{0%{opacity:0;transform:scale(.8)}30%,80%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(1)}}.animatedclass[_ngcontent-%COMP%]:nth-of-type(1){animation-delay:.05s}.animatedclass[_ngcontent-%COMP%]:nth-of-type(2){animation-delay:.15s}.animatedclass[_ngcontent-%COMP%]:nth-of-type(3){animation-delay:.2s}.animatedclass[_ngcontent-%COMP%]:nth-of-type(4){animation-delay:.25s}.animatedclass[_ngcontent-%COMP%]:nth-of-type(5){animation-delay:.3s}.animatedclass[_ngcontent-%COMP%]:nth-of-type(6){animation-delay:.35s}@media only screen and (min-device-width: 414px) and (max-device-width: 736px){.introText[_ngcontent-%COMP%]{line-height:1}.compass[_ngcontent-%COMP%]{height:100px;width:100px}.mapTitle[_ngcontent-%COMP%], postTitlee[_ngcontent-%COMP%]{font-family:\\\"Dancing Script\\\",cursive;font-size:52px;font-weight:700}.mapTitle[_ngcontent-%COMP%]{text-align:left}.mapNum[_ngcontent-%COMP%]{font-size:large;font-weight:bold;text-transform:uppercase;text-align:center;font-family:\\\"Thasadith\\\",sans-serif}.mapImg[_ngcontent-%COMP%]{height:230px;width:300px}mat-icon[_ngcontent-%COMP%], mat-tree-node[_ngcontent-%COMP%]{font-size:x-large;color:#036;font-weight:700}.postBox[_ngcontent-%COMP%]{border-bottom:none;border-right:none}}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}